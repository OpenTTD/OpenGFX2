//climate-sensitive canals
//water (32bpp gray sprites with 8bpp animated mask for slope shading)
spriteset (waterfeature_canal_waterslopes, "../graphics/terrain/64/universal_watertiles_8bpp.png") { template_waterslopes(80, 0, 1) }
alternative_sprites(waterfeature_canal_waterslopes, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/universal_watertiles_8bpp.png") { template_waterslopes(80, 0, 1) }
#ez alternative_sprites(waterfeature_canal_waterslopes, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/universal_watertiles_8bpp.png") { template_waterslopes(80, 0, 4) }
#ez alternative_sprites(waterfeature_canal_waterslopes, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/universal_watertiles_8bpp.png") { template_waterslopes(80, 0, 4) }

spriteset (waterfeature_canal_waterslopes_toyland, "../graphics/terrain/64/toyland_watertiles_8bpp.png") { template_waterslopes(80, 0, 1) }
alternative_sprites(waterfeature_canal_waterslopes_toyland, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/toyland_watertiles_8bpp.png") { template_waterslopes(80, 0, 1) }
#ez alternative_sprites(waterfeature_canal_waterslopes_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/toyland_watertiles_8bpp.png") { template_waterslopes(80, 0, 4) }
#ez alternative_sprites(waterfeature_canal_waterslopes_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/toyland_watertiles_8bpp.png") { template_waterslopes(80, 0, 4) }

spriteset (waterfeature_canal_waterslopes_shores, "../graphics/terrain/64/universal_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
alternative_sprites(waterfeature_canal_waterslopes_shores, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/universal_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
#ez alternative_sprites(waterfeature_canal_waterslopes_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/universal_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }
#ez alternative_sprites(waterfeature_canal_waterslopes_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/universal_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }

spriteset (waterfeature_canal_waterslopes_toyland_shores, "../graphics/terrain/64/toyland_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
alternative_sprites(waterfeature_canal_waterslopes_toyland_shores, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/toyland_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
#ez alternative_sprites(waterfeature_canal_waterslopes_toyland_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/toyland_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }
#ez alternative_sprites(waterfeature_canal_waterslopes_toyland_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/toyland_watertiles_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }

//gridline water
spriteset (waterfeaturegrid_canal_waterslopes, "../graphics/terrain/64/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 1) }
alternative_sprites(waterfeaturegrid_canal_waterslopes, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 1) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 4) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 4) }

spriteset (waterfeaturegrid_canal_waterslopes_toyland, "../graphics/terrain/64/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 1) }
alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 1) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 4) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes(80, 0, 4) }

spriteset (waterfeaturegrid_canal_waterslopes_shores, "../graphics/terrain/64/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
alternative_sprites(waterfeaturegrid_canal_waterslopes_shores, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/pygen/universal_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }

spriteset (waterfeaturegrid_canal_waterslopes_toyland_shores, "../graphics/terrain/64/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland_shores, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/terrain/64/universal_watertiles_cbt32bpp.png", "../graphics/terrain/64/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 1) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/terrain/256/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }
#ez alternative_sprites(waterfeaturegrid_canal_waterslopes_toyland_shores, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/terrain/256/universal_watertiles_cbt32bpp.png", "../graphics/terrain/256/pygen/toyland_watertiles_gridline_8bpp.png") { template_waterslopes_sealevel(80, 0, 4) }

//banks
spriteset (waterfeature_canal_temperate, "../graphics/infrastructure/64/pygen/canal_temperate_grass_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_temperate, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_temperate_grass_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_temperate, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_temperate_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_temperate, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_temperate_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (waterfeature_canal_arctic, "../graphics/infrastructure/64/pygen/canal_arctic_grass_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_arctic, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_arctic_grass_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_arctic, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_arctic_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_arctic, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_arctic_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (waterfeature_canal_arctic_snow, "../graphics/infrastructure/64/pygen/canal_arctic_snow_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_arctic_snow, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_arctic_snow_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_arctic_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_arctic_snow_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_arctic_snow, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_arctic_snow_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (waterfeature_canal_tropical, "../graphics/infrastructure/64/pygen/canal_tropical_grass_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_tropical, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_tropical_grass_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_tropical, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_tropical_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_tropical, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_tropical_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (waterfeature_canal_tropical_desert, "../graphics/infrastructure/64/pygen/canal_tropical_desert_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_tropical_desert, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_tropical_desert_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_tropical_desert, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_tropical_desert_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_tropical_desert, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_tropical_desert_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (waterfeature_canal_toyland, "../graphics/infrastructure/64/pygen/canal_toyland_grass_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(waterfeature_canal_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_toyland_grass_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(waterfeature_canal_toyland, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_toyland_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(waterfeature_canal_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_toyland_grass_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

//banks
spriteset (nogrid_waterfeature_canal_temperate, "../graphics/infrastructure/64/pygen/canal_temperate_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_temperate, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_temperate_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_temperate, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_temperate_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_temperate, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_temperate_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (nogrid_waterfeature_canal_arctic, "../graphics/infrastructure/64/pygen/canal_arctic_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_arctic, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_arctic_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_arctic, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_arctic_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_arctic, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_arctic_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (nogrid_waterfeature_canal_arctic_snow, "../graphics/infrastructure/64/pygen/canal_arctic_snow_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_arctic_snow, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_arctic_snow_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_arctic_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_arctic_snow_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_arctic_snow, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_arctic_snow_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (nogrid_waterfeature_canal_tropical, "../graphics/infrastructure/64/pygen/canal_tropical_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_tropical, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_tropical_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_tropical, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_tropical_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_tropical, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_tropical_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (nogrid_waterfeature_canal_tropical_desert, "../graphics/infrastructure/64/pygen/canal_tropical_desert_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_tropical_desert, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_tropical_desert_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_tropical_desert, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_tropical_desert_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_tropical_desert, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_tropical_desert_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

spriteset (nogrid_waterfeature_canal_toyland, "../graphics/infrastructure/64/pygen/canal_toyland_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 1) }
#ez alternative_sprites(nogrid_waterfeature_canal_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_8BPP, "../graphics/infrastructure/256/pygen/canal_toyland_grass_nogridline_8bpp.png") { template_waterfeature_flat(0, 0, 4) }
#32 alternative_sprites(nogrid_waterfeature_canal_toyland, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "../graphics/infrastructure/64/pygen/canal_toyland_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 1) }
#32 #ez alternative_sprites(nogrid_waterfeature_canal_toyland, ZOOM_LEVEL_IN_4X, BIT_DEPTH_32BPP, "../graphics/infrastructure/256/pygen/canal_toyland_grass_nogridline_bt32bpp.png") { template_waterfeature_flat(0, 0, 4) }

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_temperate_tiletype, terrain_type) {
	TILETYPE_NORMAL: waterfeature_canal_temperate;
	TILETYPE_DESERT: waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: waterfeature_canal_arctic_snow;
	waterfeature_canal_temperate;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_arctic_tiletype, terrain_type) {
	TILETYPE_NORMAL: waterfeature_canal_arctic;
	TILETYPE_DESERT: waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: waterfeature_canal_arctic_snow;
	waterfeature_canal_arctic;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_tropical_tiletype, terrain_type) {
	TILETYPE_NORMAL: waterfeature_canal_tropical;
	TILETYPE_DESERT: waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: waterfeature_canal_arctic_snow;
	waterfeature_canal_tropical;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_climate, [
	1 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==0) || (climate==CLIMATE_ARCTIC && param_grass_arctic==0) || (climate==CLIMATE_TROPICAL && param_grass_tropical==0) || (climate==CLIMATE_TOYLAND && param_grass_toyland==0)) +
	2 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==1) || (climate==CLIMATE_ARCTIC && param_grass_arctic==1) || (climate==CLIMATE_TROPICAL && param_grass_tropical==1) || (climate==CLIMATE_TOYLAND && param_grass_toyland==1)) +
	3 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==2) || (climate==CLIMATE_ARCTIC && param_grass_arctic==2) || (climate==CLIMATE_TROPICAL && param_grass_tropical==2) || (climate==CLIMATE_TOYLAND && param_grass_toyland==2)) +
	4 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==3) || (climate==CLIMATE_ARCTIC && param_grass_arctic==3) || (climate==CLIMATE_TROPICAL && param_grass_tropical==3) || (climate==CLIMATE_TOYLAND && param_grass_toyland==3) || (climate==CLIMATE_TOYLAND && param_grass_toyland==4))
]) {
	1: switch_waterfeature_canal_temperate_tiletype;
	2: switch_waterfeature_canal_arctic_tiletype;
	3: switch_waterfeature_canal_tropical_tiletype;
	4: waterfeature_canal_toyland; //[no terrain tile type-specific sprites available]
	waterfeature_canal_temperate;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_temperate_tiletype_nogridline, terrain_type) {
	TILETYPE_NORMAL: nogrid_waterfeature_canal_temperate;
	TILETYPE_DESERT: nogrid_waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: nogrid_waterfeature_canal_arctic_snow;
	nogrid_waterfeature_canal_temperate;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_arctic_tiletype_nogridline, terrain_type) {
	TILETYPE_NORMAL: nogrid_waterfeature_canal_arctic;
	TILETYPE_DESERT: nogrid_waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: nogrid_waterfeature_canal_arctic_snow;
	nogrid_waterfeature_canal_arctic;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_tropical_tiletype_nogridline, terrain_type) {
	TILETYPE_NORMAL: nogrid_waterfeature_canal_tropical;
	TILETYPE_DESERT: nogrid_waterfeature_canal_tropical_desert;
	TILETYPE_SNOW: nogrid_waterfeature_canal_arctic_snow;
	waterfeature_canal_tropical;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_climate_nogridline, [
	1 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==0) || (climate==CLIMATE_ARCTIC && param_grass_arctic==0) || (climate==CLIMATE_TROPICAL && param_grass_tropical==0) || (climate==CLIMATE_TOYLAND && param_grass_toyland==0)) +
	2 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==1) || (climate==CLIMATE_ARCTIC && param_grass_arctic==1) || (climate==CLIMATE_TROPICAL && param_grass_tropical==1) || (climate==CLIMATE_TOYLAND && param_grass_toyland==1)) +
	3 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==2) || (climate==CLIMATE_ARCTIC && param_grass_arctic==2) || (climate==CLIMATE_TROPICAL && param_grass_tropical==2) || (climate==CLIMATE_TOYLAND && param_grass_toyland==2)) +
	4 * ((climate==CLIMATE_TEMPERATE && param_grass_temperate==3) || (climate==CLIMATE_ARCTIC && param_grass_arctic==3) || (climate==CLIMATE_TROPICAL && param_grass_tropical==3) || (climate==CLIMATE_TOYLAND && param_grass_toyland==3) || (climate==CLIMATE_TOYLAND && param_grass_toyland==4))
]) {
	1: switch_waterfeature_canal_temperate_tiletype_nogridline;
	2: switch_waterfeature_canal_arctic_tiletype_nogridline;
	3: switch_waterfeature_canal_tropical_tiletype_nogridline;
	4: nogrid_waterfeature_canal_toyland; //[no terrain tile type-specific sprites available]
	nogrid_waterfeature_canal_temperate;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_gridlines, param_gridlines) {
	1: switch_waterfeature_canal_climate_nogridline;
	switch_waterfeature_canal_climate;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_normalclimate_elevation, tile_height) {
	0: waterfeature_canal_waterslopes_shores;
	waterfeature_canal_waterslopes;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_normalclimate_elevation_gridlines, tile_height) {
	0: waterfeaturegrid_canal_waterslopes_shores;
	waterfeaturegrid_canal_waterslopes;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_normalclimate_gridlines, param_gridlines) {
	2: switch_waterfeature_canal_slopes_normalclimate_elevation_gridlines;
	switch_waterfeature_canal_slopes_normalclimate_elevation;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_toyland_elevation, tile_height) {
	0: waterfeature_canal_waterslopes_toyland_shores;
	waterfeature_canal_waterslopes_toyland;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_toyland_elevation_gridlines, tile_height) {
	0: waterfeaturegrid_canal_waterslopes_toyland_shores;
	waterfeaturegrid_canal_waterslopes_toyland;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_toylandclimate_gridlines, param_gridlines) {
	2: switch_waterfeature_canal_slopes_toyland_elevation_gridlines;
	switch_waterfeature_canal_slopes_toyland_elevation;
}

switch (FEAT_CANALS, SELF, switch_waterfeature_canal_slopes_climate, climate) {
	CLIMATE_TOYLAND: switch_waterfeature_canal_slopes_toylandclimate_gridlines;
	switch_waterfeature_canal_slopes_normalclimate_gridlines;
}

item(FEAT_CANALS, waterfeature_canal_slopes, WF_WATERCLIFFS) {
	property {
		graphic_flags: bitmask(WATERFEATURE_ALTERNATIVE_SPRITES);
	}
	graphics {
		default: switch_waterfeature_canal_slopes_climate;
	}
}

item(FEAT_CANALS, waterfeature_canal, WF_DIKES) {
	graphics {
		default: switch_waterfeature_canal_gridlines;
	}
}
